<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Filter</title>
    <link rel="icon" href="./res/icon.png">
    <script>
        function detectar_mobile() { 
            if( navigator.userAgent.match(/Android/i)
            || navigator.userAgent.match(/webOS/i)
            || navigator.userAgent.match(/iPhone/i)
            || navigator.userAgent.match(/iPad/i)
            || navigator.userAgent.match(/iPod/i)
            || navigator.userAgent.match(/BlackBerry/i)
            || navigator.userAgent.match(/Windows Phone/i)
            ){
            return true;
            }
            else {
            return false;
            }
        }

        let mob = detectar_mobile();

        if(!mob)
        {
            window.location.href='./index.html';
        }
    </script>
    <style>
        *
        {
            color:white;
            font-family: cursive;
            user-select: none;
        }
        body
        {
            background-color: rgb(38, 39, 46);
            margin: 0;
            overflow: hidden;
        }
        #comport
        {
            background-color: rgb(45, 46, 53);
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
        }
        #viewer
        {
            position: absolute;
            width:100%;
            height:75%;
            top:0%;
            background-color: rgb(51, 52, 58);
            display: -webkit-flex;
            display: flex;
            -webkit-align-items: center;
            align-items: center;
            -webkit-justify-content: center;
            justify-content: center;
            border-bottom: solid 1px purple;
        }
        #filter
        {
            position: absolute;
            bottom:0;
            width:100%;
            height:25%;
            overflow: auto;
        }
        #filter::-webkit-scrollbar {
            width: 12px;               
        }
        #filter::-webkit-scrollbar-track {
                background: rgb(44, 43, 42);       
        }
        #filter::-webkit-scrollbar-thumb {
            background-color: rgb(30, 30, 31);  
            border-radius: 20px;       
            border: 3px solid rgb(61, 59, 54);  
        }
        #file
        {
            background-color: rgb(250, 101, 46);
            border-radius: 10px;
            padding-left: 20px;
            padding-right: 20px;
            padding-top: 20px;
            padding-bottom: 20px;
        }
        #file:hover
        {
            background-color: rgb(189, 89, 52);
        }
        #preview
        {
            display:none;
            max-width: 100%;
            max-height: 100%;
            image-rendering: pixelated;
        }
        .button
        {
            background-color: rgb(62, 84, 104);
            border: solid 1px rgb(87, 51, 81);
            border-radius: 20px;
            width:100px;
            height:25px;
            margin:5px;
        }
        .button:hover
        {
            background-color: rgb(54, 65, 75);
        }
       .button:focus
        {
            border: solid 1px coral;
        }
        .btnconfig
        {
            background-color: rgb(250, 101, 46);
            border-radius: 10px;
            width: 100%;
            border: none;
            margin-top: 20px;
        }
        .btnconfig:hover
        {
            background-color: rgb(189, 89, 52);
        }
        #savebtn
        {
            text-decoration: none;
        }
        </style>
</head>
<body>

    <div id='comport'>
        <div id='filter'>
            <h2 style="text-align: center;text-decoration: underline;">Filtros</h2>
            <table>
                <button class="button" onclick="apply(1)">Opacity</button>
                <button class="button" onclick="apply(2)">Sepia</button>
                <button class="button" onclick="apply(3)">Blur</button>
                <button class="button" onclick="apply(4)">Contrast</button>
                <button class="button" onclick="apply(5)">Invert</button>
                <button class="button" onclick="apply(6)">Saturate</button>
                <button class="button" onclick="apply(7)">Brightness</button>
                <button class="button" onclick="apply(8)">Grayscale</button>
            </table>
            <p id='usando'>Nenhum filtro foi aplicado</p>
            <h2 style="text-align: center;text-decoration: underline;">Intensidade</h2>
            <input type="range" ondurationchange="change" id='change' style="width:100%;margin:0" min="0" max="200">
            <p id='inten' style="text-align: center;">100%</p>
            <button class='btnconfig' onclick="window.location.reload()">Reload</button>
            <button class='btnconfig' onclick="effect()">Aplicar</button>
            <button class='btnconfig'><a  id='savebtn' onclick="save()" download="Nova_Imagem.png">Salvar</a></button>
        </div>
        <div id="viewer">
            <canvas id='preview'></canvas>
            <label for="photo" id='file'>Escolher Imagem</label>
            <input type="file" accept="image/*" style="display:none" id='photo'>
        </div>
    </div>

    <script src="./js/main.js"></script>
</body>
</html>